<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.101.0"><title>2.5D Software Renderer Demo (COMP-3520 Computer Graphics Lab Materials) - Shane Peelar's Blog</title><meta name=description content="When I was teaching the labs for COMP-3520 with Dr. Robert Kent, I put together a little demo to help explain certain concepts during the labs. It is a 2.5D software rendered engine. That is, there&rsquo;s no OpenGL or Direct3D or Vulkan or anything like that involved: this renders directly to an array, treating it as though it were a linear framebuffer (2D array of pixels). Each lab, I would demonstrate a new concept using some addition to the demo."><style>:root{--bg-color:floralwhite;--fg-color:#1c6e8c;--text-color:#444;--heading-color:#222;--tagline-color:#898989;--top-sep-color:#888888;--date-color:#666;--bar-nav-color:#777}</style><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/ui.css><link rel=stylesheet href=/css/iosevka.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Fira+Mono|Raleway"><script type=text/javascript>var _paq=window._paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="https://matomo.inbetweennames.net/",_paq.push(["setTrackerUrl",t+"matomo.php"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=t+"matomo.js",s.parentNode.insertBefore(e,s)}()</script><noscript><p><img src="https://matomo.inbetweennames.net//matomo.php?idsite=1&rec=1" style=border:0 alt></p></noscript></head><body><header class="container no-print"><div class=u-header><nav class=bar><ul><li><a href=/><img class=icon-text src=/img/prev.svg></a></li><li><a href=/about/>About</a></li><li><a href=/cv/>CV</a></li><li><a href=/projects/>Projects</a></li></ul></nav><hr class=topsep></div></header><main class=container><article><header><hgroup id=brand><h1>2.5D Software Renderer Demo (COMP-3520 Computer Graphics Lab Materials)</h1><h5><span class=no-print></span></h5></hgroup><hr class=sep></header><p>When I was teaching the labs for COMP-3520 with Dr. Robert Kent, I put together a little demo
to help explain certain concepts during the labs. It is a 2.5D software rendered engine.
That is, there&rsquo;s no OpenGL or Direct3D or Vulkan or anything like that involved: this renders
directly to an array, treating it as though it were a linear framebuffer (2D array of pixels).
Each lab, I would demonstrate a new concept using some addition to the demo. The purpose
of this was to help explain the math behind 3D rendering without any magic involved: how
do we render a triangle? How do we do depth sorting? How do we do clipping? These were
all topics we addressed in the course.</p><p>The demo is presented below (WASM-capable browser required):</p><p><strong>Controls are your mouse + WASD. Click the mouse to &ldquo;lock&rdquo; it and make it easier to move around, click
again to &ldquo;unlock it&rdquo;</strong></p><div class=spinner id=spinner></div><div class=emscripten id=status>Downloading...</div><div class=emscripten><progress hidden id=progress max=100 value=0></progress></div><div class=emscripten_border><canvas class=emscripten id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas></div><script>var statusElement=document.getElementById("status"),progressElement=document.getElementById("progress"),spinnerElement=document.getElementById("spinner"),Module={preRun:[],postRun:[],print:function(){var e=document.getElementById("output");return e&&(e.value=""),function(t){1<arguments.length&&(t=Array.prototype.slice.call(arguments).join(" ")),console.log(t),e&&(e.value+=t+`
`,e.scrollTop=e.scrollHeight)}}(),printErr:function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments).join(" ")),console.error(e)},canvas:function(){var e=document.getElementById("canvas");return e.addEventListener("webglcontextlost",function(e){alert("WebGL context lost. You will need to reload the page."),e.preventDefault()},!1),e}(),setStatus:function(e){if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var t=e.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),n=Date.now();t&&n-Module.setStatus.last.time<30||(Module.setStatus.last.time=n,Module.setStatus.last.text=e,t?(e=t[1],progressElement.value=100*parseInt(t[2]),progressElement.max=100*parseInt(t[4]),progressElement.hidden=!1,spinnerElement.hidden=!1):(progressElement.value=null,progressElement.max=null,progressElement.hidden=!0,e||(spinnerElement.style.display="none")),statusElement.innerHTML=e)}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e),Module.setStatus(e?"Preparing... ("+(this.totalDependencies-e)+"/"+this.totalDependencies+")":"All downloads complete.")}};Module.setStatus("Downloading..."),window.onerror=function(){Module.setStatus("Exception thrown, see JavaScript console"),spinnerElement.style.display="none",Module.setStatus=function(e){e&&Module.printErr("[post-exception status] "+e)}}</script><script async src=main.js></script><p>Depth sorting is demonstrated for sprites, but not for walls.
An outcome of the course was adding a spatial partitioning scheme to do depth sorting across the
entire scene (i.e., BSP and other methods were discussed). Everything was presented in 2.5D to make
the math and code easier to explain, which we would then discuss in 3D later once the students had a
better handle on things. For example, I taught projective geometry and homogeneous coordinates using
3D instead of 4D homogeneous coordinates at first just to help get perspective division understood, then generalized to
the 4D homogeneous coordinates later once students had a better grasp of what was going on.
Some famous bit-level trickery was pointed out as well in the process (e.g, snippets from the Doom
and Quake source code). Each function in the code was thoroughly broken down in each lab.</p><p>The <a href=https://github.com/InBetweenNames/COMP3520ComputerGraphics>Source code</a> is available,
and will work in both native and WebAssembly environments, but includes no dependencies.
It&rsquo;s not the cleanest code, but it was a Computer Graphics course, not a Software Engineering course :)
The relevant code is in <a href=https://github.com/InBetweenNames/COMP3520ComputerGraphics/blob/master/main.cpp>main.cpp</a>.</p><p>A <a href=https://github.com/InBetweenNames/SDL2Template>separate repository</a> exists for the same project
but structured as a Visual Studio project for convenience with all dependencies integrated.</p></article><nav class="no-print post-nav"><a class=prev-post href=https://inbetweennames.net/projects/interstate76anet/><img class=icon-text src=/img/prev.svg>Interstate '76/Nitro pack netcode patches</a></nav><hr class=sep></main><footer class="container no-print"><div class=u-footer><div style=margin-bottom:2rem><a href=mailto:lookatyouhacker@gmail.com><img class=icon-sc src=/img/email.svg alt=E-mail></a>
<a href=https://github.com/InBetweenNames/><img class=icon-sc src=/img/github.svg alt=GitHub></a>
<a href=https://www.linkedin.com/in/shane-peelar-29a2005a/><img class=icon-sc src=/img/l_in.svg alt=LinkedIn></a></div><a href=https://inbetweennames.net/index.xml target=_blank><img class=icon-sc src=/img/feed.svg alt="RSS Feed"></a><p>Theme used: <a href=https://github.com/InBetweenNames/manis-hugo-theme>ManisIBN</a><br>&copy; 2022 Shane Peelar<div><a href=/privacypolicy/>Privacy Policy</a></div></p></div></footer></body></html>